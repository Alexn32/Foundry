(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1414:function(e,t,o){Promise.resolve().then(o.bind(o,7340))},7340:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return s}});var r=o(7437),i=o(2265);let n="https://foundry-production-7b5f.up.railway.app";function s(){let[e,t]=(0,i.useState)(""),[o,s]=(0,i.useState)([]),[a,d]=(0,i.useState)([]),[l,p]=(0,i.useState)(!1),[c,u]=(0,i.useState)("");(0,i.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("".concat(n,"/api/workspaces/demo")),t=await e.json();t.tasks&&s(t.tasks),t.competitors&&d(t.competitors)}catch(e){console.error("Fetch error:",e)}},x=async()=>{if(e.trim()){p(!0);try{let t=await fetch("".concat(n,"/api/workspaces/demo/competitors/discover"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productDescription:e})});(await t.json()).taskId&&(u("Task created! Click Approve below."),await h())}catch(e){u("Error: "+e.message)}p(!1)}},b=async e=>{p(!0);try{let t=await fetch("".concat(n,"/api/tasks/").concat(e,"/approve"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"founder-1"})}),o=await t.json();o.success&&(u("Found ".concat(o.competitorsFound," competitors!")),d(o.competitors||[]),await h())}catch(e){u("Error: "+e.message)}p(!1)},g=o.filter(e=>"pending"===e.status&&e.requiresApproval);return(0,r.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#0a0a0f",color:"white",padding:"20px"},children:[(0,r.jsx)("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"},children:"\uD83C\uDFAF Foundry - Competitor Intelligence"}),c&&(0,r.jsx)("div",{style:{backgroundColor:"#064e3b",border:"1px solid #10b981",padding:"12px",borderRadius:"8px",marginBottom:"16px",color:"#10b981"},children:c}),(0,r.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Describe your product (e.g., 'A CRM for dentists')...",style:{flex:1,backgroundColor:"#18181b",border:"1px solid #3f3f46",padding:"12px",borderRadius:"8px",color:"white"}}),(0,r.jsx)("button",{onClick:x,disabled:!e.trim()||l,style:{backgroundColor:"#4f46e5",color:"white",padding:"12px 24px",borderRadius:"8px",border:"none",cursor:l?"not-allowed":"pointer",opacity:l?.5:1},children:l?"...":"Discover"})]}),g.length>0&&(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("h2",{style:{fontSize:"18px",marginBottom:"12px",color:"#f59e0b"},children:"Pending Approval"}),g.map(e=>(0,r.jsxs)("div",{style:{backgroundColor:"#1c1917",border:"1px solid #f59e0b",padding:"16px",borderRadius:"8px",marginBottom:"8px"},children:[(0,r.jsx)("p",{style:{marginBottom:"12px"},children:e.approvalPrompt}),(0,r.jsx)("button",{onClick:()=>b(e.id),disabled:l,style:{backgroundColor:"#059669",color:"white",padding:"8px 16px",borderRadius:"6px",border:"none",cursor:"pointer"},children:l?"Running...":"Approve & Run"})]},e.id))]}),a.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{style:{fontSize:"18px",marginBottom:"12px"},children:["Discovered Competitors (",a.length,")"]}),a.map(e=>(0,r.jsx)("div",{style:{backgroundColor:"#18181b",border:"1px solid #3f3f46",padding:"16px",borderRadius:"8px",marginBottom:"8px"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{style:{fontWeight:"bold"},children:e.name}),(0,r.jsx)("a",{href:e.website,target:"_blank",style:{color:"#6b7280",fontSize:"14px"},children:e.website})]}),(0,r.jsxs)("span",{style:{backgroundColor:"high"===e.threatLevel?"#7f1d1d":"medium"===e.threatLevel?"#78350f":"#064e3b",color:"high"===e.threatLevel?"#fca5a5":"medium"===e.threatLevel?"#fcd34d":"#6ee7b7",padding:"4px 12px",borderRadius:"4px",fontSize:"12px"},children:[e.threatLevel," threat"]})]})},e.id))]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1414)}),_N_E=e.O()}]);